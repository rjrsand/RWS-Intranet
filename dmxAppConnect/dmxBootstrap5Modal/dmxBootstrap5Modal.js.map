{"version":3,"sources":["components/modal.js"],"names":["dmx","Component","attributes","nobackdrop","type","Boolean","default","nocloseonclick","nokeyboard","nofocus","show","methods","toggle","this","_instance","hide","update","handleUpdate","events","Event","shown","hidden","init","node","addEventListener","dispatchEvent","bind","bootstrap","Modal","backdrop","props","keyboard","focus","requestAnimationFrame","destroy","dispose","performUpdate","updatedProps","has","$node"],"mappings":";;;;;;AAAAA,IAAAC,UAAA,YAAA,CAEAC,WAAA,CACAC,WAAA,CACAC,KAAAC,QACAC,SAAA,GAGAC,eAAA,CACAH,KAAAC,QACAC,SAAA,GAGAE,WAAA,CACAJ,KAAAC,QACAC,SAAA,GAGAG,QAAA,CACAL,KAAAC,QACAC,SAAA,GAGAI,KAAA,CACAN,KAAAC,QACAC,SAAA,IAIAK,QAAA,CACAC,SACAC,KAAAC,UAAAF,QACA,EAEAF,OACAG,KAAAC,UAAAJ,MACA,EAEAK,OACAF,KAAAC,UAAAC,MACA,EAEAC,SACAH,KAAAC,UAAAG,cACA,GAGAC,OAAA,CACAR,KAAAS,MACAC,MAAAD,MACAJ,KAAAI,MACAE,OAAAF,OAGAG,KAAAC,GACAA,EAAAC,iBAAA,gBAAAX,KAAAY,cAAAC,KAAAb,KAAA,SACAU,EAAAC,iBAAA,iBAAAX,KAAAY,cAAAC,KAAAb,KAAA,UACAU,EAAAC,iBAAA,gBAAAX,KAAAY,cAAAC,KAAAb,KAAA,SACAU,EAAAC,iBAAA,kBAAAX,KAAAY,cAAAC,KAAAb,KAAA,WAEAA,KAAAC,UAAA,IAAAa,UAAAC,MAAAL,EAAA,CACAM,UAAAhB,KAAAiB,MAAA3B,YAAAU,KAAAiB,MAAAvB,eAAA,UAAAM,KAAAiB,MAAA3B,WACA4B,UAAAlB,KAAAiB,MAAAtB,WACAwB,OAAAnB,KAAAiB,MAAArB,UAGAI,KAAAiB,MAAApB,MACAuB,uBAAA,KACApB,KAAAC,UAAAJ,MAAA,GAGA,EAEAwB,UACArB,KAAAC,UAAAqB,SACA,EAEAC,cAAAC,IACAA,EAAAC,IAAA,eAAAD,EAAAC,IAAA,mBAAAD,EAAAC,IAAA,eAAAD,EAAAC,IAAA,cACAzB,KAAAC,UAAAqB,UACAtB,KAAAC,UAAA,IAAAa,UAAAC,MAAAf,KAAA0B,MAAA,CACAV,UAAAhB,KAAAiB,MAAA3B,YAAAU,KAAAiB,MAAAvB,eAAA,UAAAM,KAAAiB,MAAA3B,WACA4B,UAAAlB,KAAAiB,MAAAtB,WACAwB,OAAAnB,KAAAiB,MAAArB,WAIA4B,EAAAC,IAAA,SACAzB,KAAAC,UAAAD,KAAAiB,MAAApB,KAAA,OAAA,SAEA","file":"dmxBootstrap5Modal.js","sourcesContent":["dmx.Component('bs5-modal', {\r\n\r\n  attributes: {\r\n    nobackdrop: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    nocloseonclick: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    nokeyboard: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    nofocus: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    toggle () {\r\n      this._instance.toggle();\r\n    },\r\n\r\n    show () {\r\n      this._instance.show();\r\n    },\r\n\r\n    hide () {\r\n      this._instance.hide();\r\n    },\r\n\r\n    update () {\r\n      this._instance.handleUpdate();\r\n    }\r\n  },\r\n\r\n  events: {\r\n    show: Event,\r\n    shown: Event,\r\n    hide: Event,\r\n    hidden: Event\r\n  },\r\n\r\n  init (node) {\r\n    node.addEventListener('show.bs.modal', this.dispatchEvent.bind(this, 'show'));\r\n    node.addEventListener('shown.bs.modal', this.dispatchEvent.bind(this, 'shown'));\r\n    node.addEventListener('hide.bs.modal', this.dispatchEvent.bind(this, 'hide'));\r\n    node.addEventListener('hidden.bs.modal', this.dispatchEvent.bind(this, 'hidden'));\r\n\r\n    this._instance = new bootstrap.Modal(node, {\r\n      backdrop: !this.props.nobackdrop && this.props.nocloseonclick ? 'static' : !this.props.nobackdrop,\r\n      keyboard: !this.props.nokeyboard,\r\n      focus: !this.props.nofocus,\r\n    });\r\n\r\n    if (this.props.show) {\r\n      requestAnimationFrame(() => {\r\n        this._instance.show();\r\n      });\r\n    }\r\n  },\r\n\r\n  destroy () {\r\n    this._instance.dispose();\r\n  },\r\n\r\n  performUpdate (updatedProps) {\r\n    if (updatedProps.has('nobackdrop') || updatedProps.has('nocloseonclick') || updatedProps.has('nokeyboard') || updatedProps.has('nofocus')) {\r\n      this._instance.dispose();\r\n      this._instance = new bootstrap.Modal(this.$node, {\r\n        backdrop: !this.props.nobackdrop && this.props.nocloseonclick ? 'static' : !this.props.nobackdrop,\r\n        keyboard: !this.props.nokeyboard,\r\n        focus: !this.props.nofocus,\r\n      });\r\n    }\r\n    \r\n    if (updatedProps.has('show')) {\r\n      this._instance[this.props.show ? 'show' : 'hide']();\r\n    }\r\n  },\r\n\r\n});\r\n"]}